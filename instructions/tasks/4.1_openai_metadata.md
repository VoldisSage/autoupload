# Task 4.1 â€“ OpenAI service: generate YouTube metadata

## Description
Implement a service that uses the OpenAI API to generate YouTube-ready metadata (title, description, tags, game, language, chapters) from Twitch stream information.

## Definition of Done
- A file `src/services/openaiService.ts` exists with:
  - `export type YoutubeMetadata = { title: string; description: string; tags: string[]; game: string; language: string; chapters?: { time: string; label: string }[]; };`
  - `async function generateMetadataFromTwitch(input: { twitchTitle: string; twitchGame: string; duration: string; summary: string; }): Promise<YoutubeMetadata>`
- The function:
  - Uses the OpenAI SDK and `openai.apiKey` / `openai.model` from config.
  - Sends a prompt that describes the Twitch title, game, duration and summary.
  - Uses `response_format` with a JSON schema to enforce a valid JSON structure.
  - Parses the response into a `YoutubeMetadata` object.
- Errors are caught and rethrown as `Error` with meaningful messages.

## Tests
- Create `dev/testOpenaiMetadata.ts` that:
  - Calls `generateMetadataFromTwitch` with a sample input (fake Twitch data).
  - Logs the returned metadata object.
- Add npm script:
  - `"dev:test-openai": "ts-node dev/testOpenaiMetadata.ts"` or equivalent.
- Run `npm run dev:test-openai` and validate:
  - `title` is a non-empty string.
  - `description` has multiple lines or paragraphs.
  - `tags` contains at least 5 elements.
  - `game` is non-empty.
  - `language` is set to `"es"` or similar.

## Files to create / modify
- `src/services/openaiService.ts`
- `dev/testOpenaiMetadata.ts`
- `package.json` (add dev test script)
